# Card Nexus - プロジェクト開発指針

## プロジェクト概要
Card Nexus（カードネクサス）は、カードゲームプレイヤーのための情報交換・取引プラットフォームです。
「すべてのカードゲームプレイヤーが集う、情報と交流の拠点（ハブ）」をコンセプトとしています。

## 技術スタック
- **フロントエンド**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **バックエンド**: Next.js API Routes, NextAuth.js
- **データベース**: PostgreSQL with Prisma ORM
- **UI コンポーネント**: Headless UI, React Hook Form
- **認証**: NextAuth.js (Google, Discord プロバイダー)
- **スタイリング**: Tailwind CSS with custom design system

## 開発方針

### MVP フェーズ1 (3ヶ月目標)
1. **ユーザー管理**: 登録・ログイン・プロフィール機能
2. **カードデータベース**: ポケモンカード情報の検索・表示
3. **売買掲示板**: シンプルな出品・検索機能
4. **評価システム**: ユーザー間の信頼性評価

### コード品質基準
- TypeScript を厳密に使用（any 型は禁止）
- ESLint + Prettier による自動フォーマット
- 各コンポーネントはテスト可能な単位で作成
- アクセシビリティ（a11y）に配慮したUI設計

### データベース設計方針
- Prisma スキーマで全テーブル定義を管理
- リレーションは適切に設定し、参照整合性を保つ
- 将来の機能拡張を考慮した柔軟なスキーマ設計
- 個人情報の適切なハッシュ化・暗号化

### API 設計方針
- RESTful API の原則に従う
- エラーハンドリングを統一的に実装
- レスポンス形式を標準化
- 認証が必要なエンドポイントには適切なミドルウェアを適用

### セキュリティ考慮事項
- CSRF 攻撃対策
- XSS 攻撃対策（入力値のサニタイズ）
- SQL インジェクション対策（Prisma による安全なクエリ）
- パスワードの適切なハッシュ化
- セッション管理の安全性

### UI/UX 方針
- モバイルファーストデザイン
- 直感的で分かりやすいナビゲーション
- カードゲームプレイヤーに親しみやすいデザイン
- ローディング状態の適切な表示
- エラーメッセージの分かりやすい表示

## ディレクトリ構造
```
/
├── src/
│   ├── app/              # App Router ページ
│   ├── components/       # 再利用可能コンポーネント
│   ├── lib/             # ユーティリティ・設定
│   ├── types/           # TypeScript 型定義
│   └── hooks/           # カスタムフック
├── prisma/              # データベーススキーマ
├── public/              # 静的ファイル
└── docs/                # プロジェクト文書
```

## Git ブランチ戦略
- `main`: 本番リリース用ブランチ
- `develop`: 開発統合ブランチ  
- `feature/*`: 機能開発用ブランチ
- `hotfix/*`: 緊急修正用ブランチ

## コミットメッセージ規約
```
feat: 新機能追加
fix: バグ修正
docs: ドキュメント更新
style: コードスタイル修正
refactor: リファクタリング
test: テスト追加・修正
chore: ビルドプロセス・補助ツール修正
```

## 開発時の注意事項
- コンポーネント作成時は props の型定義を必須とする
- データベース変更時は必ず migration を実行
- 新しい依存関係追加時はチーム内で相談
- パフォーマンスを考慮した実装を心がける
- アクセシビリティガイドラインに従う

このプロジェクトは将来の拡張性を考慮しながら、まずはMVPとして価値のある機能を迅速に提供することを目標としています。